---
title: "金の延べ棒の問題の一般化"
date: 2022-10-23T13:12:29+09:00
math: true
tags: ["作問", "n進数"]
---

以下の記事で，マイクロソフトの入社試験問題とされている「金の延べ棒」が面白かった．
[これが解けたら Google 採用！？一流企業の入社試験がユニークで面白い！！](https://nakajiman.com/entrance-exam/#5)

問題は以下の通り．

> > あなたの会社の社員の一人が、給料を金の地金で日払いで払うように求めています。あなたは、この社員の７日分の給料に相当する値段の金の延べ棒を持っています。棒は既に７等分に切れ目が入っています。延べ棒を２箇所だけ切断してよく、１日が終わるごとにこの社員と精算しなければならないとしてどうすればいいでしょう？

2 進数表記で $n$ 桁有れば$2^n$種類の数を表せるという性質を使った問題である．
この問題自体は非常に簡単であるので，次のように一般化した．

## 問題

無限の長さの金の延べ棒に，等間隔に切れ目が入っている．
隣り合う切れ目の間にある金の価値は，上記の社員の一日分の給料に相当する．
切れ目にそって切断して$k$個の金塊を作る場合，最大何日間連続して社員の給与を精算できるかを$k$で表せ．■

例えば，$k=3$の場合は，上記の問題そのものである．
金の延べ棒を$3$つに切断する際に，各々の長さが$1,2,4$となるように切断すれば$7$日分連続で給与精算ができる．

そのように考えると，一般には$1,2,4,8,...$の長さを持つような切れ目で切断して，$(2^k-1)$日と回答したくなる．
しかし，$3$進数表記の方がより長い日数の給与を精算できることはあり得ないだろうか．
具体的には，$1,1,3,3,9,9,..$と切断した方が良いのではないだろうか．
同様に，$4$進数，$5$進数，...はどうだろうか．
あらゆる場合と比較して，常に$2$進数に基づいた$1,2,4,8,...$の切断が最大の日数の精算を可能にする証明はどのようにするのだろう．

## 解答

3 進数に基づいて，$1,1,3,3,9,9,...$と$k$個に切断した場合に連続して支払える日数$f_3(k)$は

$$
f_3(k)=
\begin{cases}
3^{k/2}-1 & \textrm{if} & k \equiv 0 \pmod 2,\\\
2 \cdot 3^{(k-3)/2}-1 & \textrm{if} & k \equiv 1 \pmod 2. \\\
\end{cases}
$$

正の整数$k$について，$3^{k/2} -1 > 2 \cdot 3^{(k-3)/2}-1$である．
同様にして，$n$進数に基づく$k$個の切断方法では，連続して支払える日数は$n^{k/(n-1)} - 1 $を超えないことがわかる．

よって，$2^k \ge n^{k/(n-1)}$を示せば，あらゆる$n \ge 2$進数に基づく切り方のうちで，2 進数に基づくものが最良だと証明できる．
これは，関数$f(x)=\frac{log(x)}{x-1}$が$x\ge2$で単調減少であることから導ける．
よって，$(2^k-1)$が最大の日数である．■

数学の本で，証明に適度に飛躍があって，その間を自分で埋めると推論の能力が向上する作りになっているものが筆者は好きである．
それに倣って，上の証明も事細かに説明しないようにした．
興味を覚えた読者は，練習問題として，行間を埋めてみてほしい．

高校数学の多くの分野を総合的に使うので，受験生のための練習問題としてかなりいい問題なのではと思っている．
また，上記の性質は計算機で 2 進数が使われていることの説明にもなっている，とこじつけて気持ち良くなるのにも使える．

## 追記

上記で示したのはあらゆる$n \ge 2$進数記法に基づいた切断方法のうちでは$2$進数に基づく切り方が最大の日数を与えることだ．
$n$進数記法に基づかない切り方と比べても，上記の切り方が最良であることはどう証明すれば良いのだろうか．
